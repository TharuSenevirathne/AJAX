<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AJAX</title>

  <style>
    table {
      border-collapse: collapse;
      width: 50%;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #888;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
    }
  </style>

</head>
<body>

  <h1>AJAX Example</h1>

<!--  <div id="content"></div>-->
<!--  <br>-->

  <p id="fname"></p>
  <p id="lname"></p>
  <p id="address"></p>
  <p id="contact"></p>

  <button id="ajax-btn">Click me !</button>

<!--  <table id="data-table">-->
<!--    <thead>-->
<!--    <tr>-->
<!--      <th>First Name</th>-->
<!--      <th>Last Name</th>-->
<!--      <th>Address</th>-->
<!--      <th>Contact No</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    </tbody>-->
<!--  </table>-->


  <table id="data-table">
    <thead>
    <tr>
      <th>Post id</th>
      <th>id</th>
      <th>name</th>
      <th>email</th>
      <th>body</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
  </table>

    <script src="lib/jquery-3.7.1.min.js"></script>

    <script>
        $('#ajax-btn').click(function () {

            // console.log("Started!")
            // var http = new XMLHttpRequest();
            // console.log(http.readyState,"After the XMLHTTPRequest object created");
            // http.open('GET','https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css');
            // console.log(http.readyState,"After the XMLHTTPRequest object opened");
            // http.send();
            // console.log(http.readyState,"After the Send method invoke");
            // http.onreadystatechange = function () {
            //     console.log(http.readyState,"Inside on ready state change event")
            // }
            // console.log("Request Finished!");


            // var http = new XMLHttpRequest();
            // http.open('GET','db.txt');
            // http.send();
            // http.onreadystatechange = function (){
            //     console.log(http.status);
            // }


            // var http = new XMLHttpRequest();
            // http.open('GET', 'db.txt');
            // http.send();
            // http.onreadystatechange = function () {
            //     if (http.readyState === 4 && http.status === 200) {
            //         $('#content').text(http.responseText);
            //     }
            //     if (http.status === 404 && http.readyState === 4) {
            //         alert("ewww")
            //     }
            // }





          // Console eke data tika dgnnw


          //     $.ajax({
        //         url: 'database.json',
        //         method: 'GET',
        //         success: function (response) {
        //             console.log(response.FirstName);
        //             console.log(response.LastName);
        //             console.log(response.Address);
        //         },
        //         error: function (error) {
        //             console.log(error);
        //         }
        //     });
        //
        // });




// h1 tag eka yatata data tika gnnw


          // $.ajax({
          //   url: 'database.json',
          //   method: 'GET',
          //   success: function (response) {
          //     $('#fname').text(response.FirstName);
          //     $('#lname').text(response.LastName);
          //     $('#address').text(response.Address);
          //     $('#contact').text(response.ContactNo);
          //   },
          //   error: function (error) {
          //     console.log(error);
          //   }
          // });




// Table ekt data dgnnw ---------------------------------

        //   console.log("start");
        //
        //     $.ajax({
        //       url: 'database.json',
        //       method: 'GET',
        //       async : false ,
        //       success: function (response) {
        //         let tbody = $('#data-table tbody');
        //         tbody.empty();
        //
        //         response.forEach(function (person) {
        //           let row = `<tr>
        //                 <td>${person.FirstName}</td>
        //                 <td>${person.LastName}</td>
        //                 <td>${person.Address}</td>
        //                 <td>${person.ContactNo}</td>
        //             </tr>`;
        //           tbody.append(row);
        //         });
        //         console.log("completed");
        //       },
        //       error: function (error) {
        //         console.error("Error loading data:", error);
        //       }
        //     });
        //
        // console.log("end");





          console.log("start");

          $.ajax({
            url: 'https://jsonplaceholder.typicode.com/comments',
            method: 'GET',
            async : false ,
            success: function (response) {
              let tbody = $('#data-table tbody');
              tbody.empty();

              response.forEach(function (person) {
                let row = `<tr>
                        <td>${person.postId}</td>
                        <td>${person.id}</td>
                        <td>${person.name}</td>
                        <td>${person.email}</td>
                        <td>${person.body}</td>
                    </tr>`;
                tbody.append(row);
              });
              console.log("completed");
            },
            error: function (error) {
              console.error("Error loading data:", error);
            }
          });

          console.log("end");

        });

    </script>

</body>
</html>
